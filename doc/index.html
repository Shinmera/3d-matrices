<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>3d Matrices</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:6em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}</style> </head> <body> <article class="project"> <header>  <img class="logo" src="3d-matrices-logo.png" alt="Logo">  <h1>3d matrices</h1>  <span class="version">1.0.0</span>  <nav class="languages">      <a href="index.html">English</a>  </nav>  <p class="description">A utility library implementing 2x2, 3x3, 4x4, and NxN matrix functionality.</p>  <nav class="pages">      <a href="index.html">3d matrices</a>  </nav> </header> <section id="documentation"><h2 id="about_3d-matrices">About 3d-matrices</h2> <p>This is a library implementing common matrix operations, mainly intended as the counterpiece to <a href="https://shinmera.github.io/3d-vectors">3d-vectors</a> and thus being aimed at operations in 3D space. Still, it also implements other common matrix tasks such as LU and QR factorisation, determinant computation, and sub-matrix selection. 2x2, 3x3, and 4x4 matrices are specially treated and often have specifically optimised or inlined variants in the operations to ensure as high a speed as possible. NxM matrices are also available, but will always use a general algorithm in the operations.</p> <p>This library by no means attempts, nor comes in any way close to replacing or imitating things such as BLAS and LIN/LAPACK. The main purpose is to have a library that allows convenient matrix operations in conjunction with the 3d-vectors library. It should be sufficiently fast and accurate for most purposes, but should not be used for serious matrix based calculations. Please use industry-standard packages for that.</p> <h2 id="how_to">How To</h2> <p>Load it through ASDF or Quicklisp and use the package.</p> <pre><code>(ql:quickload :3d-matrices)
(<a href="http://l1sp.org/cl/use-package" class="xref">use-package</a> :3d-matrices)
</code></pre> <p>All the functions are prefixed with an <code>m</code> or with <code>nm</code> for destructive ops. This should ensure that there are no clashes in names. Now let's look at creating matrices.</p> <pre><code>(<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 2 3 4)
(<a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a> 1)
(<a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a> '(1 2 3 4))
(<a href="#FUNCTION%203D-MATRICES%3AMCOPY" class="xref">mcopy</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT3" class="xref">mat3</a>))
(<a href="#FUNCTION%203D-MATRICES%3AMATN" class="xref">matn</a> 2 3)
(<a href="#FUNCTION%203D-MATRICES%3AMEYE" class="xref">meye</a> 5)
(<a href="#FUNCTION%203D-MATRICES%3AMUNIFORM" class="xref">muniform</a> 2 3 1)
(<a href="#FUNCTION%203D-MATRICES%3AMRAND" class="xref">mrand</a> 10 10)
</code></pre> <p>In order to see the matrix in a more human-readable format, you can use <code><a href="#FUNCTION%203D-MATRICES%3ADESCRIBE" class="xref">describe</a></code> or <code><a href="#FUNCTION%203D-MATRICES%3AWRITE-MATRIX" class="xref">write-matrix</a></code> directly:</p> <pre><code>(<a href="http://l1sp.org/cl/describe" class="xref">describe</a> (<a href="#FUNCTION%203D-MATRICES%3AMEYE" class="xref">meye</a> 5))
(<a href="#FUNCTION%203D-MATRICES%3AWRITE-MATRIX" class="xref">write-matrix</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a>) T)
(<a href="#FUNCTION%203D-MATRICES%3AWRITE-MATRIX" class="xref">write-matrix</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a>) T :format :wolfram)
(<a href="#FUNCTION%203D-MATRICES%3AWRITE-MATRIX" class="xref">write-matrix</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a>) T :format :array)
</code></pre> <p>Matrices always use <code><a href="#FUNCTION%203D-MATRICES%3AFLOAT" class="xref">float</a></code>s. Where sensible, operations will accept <code><a href="#CLASS%203D-MATRICES%3AREAL" class="xref">real</a></code>s as well however. Either <code><a href="#CLASS%203D-MATRICES%3ASINGLE-FLOAT" class="xref">single-float</a></code>s or <code><a href="#CLASS%203D-MATRICES%3ADOUBLE-FLOAT" class="xref">double-float</a></code>s are used, depending on the presence of the <code>:3d-vectors-double-floats</code> keyword in <code><a href="#VARIABLE%203D-MATRICES%3A%2AFEATURES%2A" class="xref">*features*</a></code>. This feature is taken over from the 3d-vectors library to ensure that both of them always agree on the float type.</p> <p>The type <code><a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a></code> includes all subtypes <code><a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">mat2</a></code>, <code><a href="#FUNCTION%203D-MATRICES%3AMAT3" class="xref">mat3</a></code>, <code><a href="#FUNCTION%203D-MATRICES%3AMAT4" class="xref">mat4</a></code>, and <code><a href="#FUNCTION%203D-MATRICES%3AMATN" class="xref">matn</a></code>. Each of them have their own specific accessors that are suffixed with the dimension number. Usually you should be fine with using the generic variants, but if you already know the type you should probably fall back to using the specific one, or use <code><a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF" class="xref">with-fast-matref</a></code>.</p> <pre><code>(<a href="#FUNCTION%203D-MATRICES%3AMIREF" class="xref">miref</a> (<a href="#FUNCTION%203D-MATRICES%3AMEYE" class="xref">meye</a> 2) 3)
(<a href="#FUNCTION%203D-MATRICES%3AMCREF" class="xref">mcref</a> (<a href="#FUNCTION%203D-MATRICES%3AMEYE" class="xref">meye</a> 2) 1 1)
(<a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF" class="xref">with-fast-matref</a> (e (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 2) 2)
  (e 1 1))
</code></pre> <p>Matrices are basically a struct that contains a simple-vector of floats. This means that every single reference must also dereference the array first. This is why, if you have many repeated accesses to an array, you should use <code><a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF" class="xref">with-fast-matref</a></code> or do the same manually by first retrieving the backing array with <code><a href="#FUNCTION%203D-MATRICES%3AMARR" class="xref">marr</a></code>.</p> <p>If you're coming to this library with the intention of using it to do 3D math, you'll most likely be mostly looking for how to create translation, rotation, and scaling matrices. Specific functions exist for this that take care of it for you. They all operate on <code><a href="#FUNCTION%203D-MATRICES%3AMAT4" class="xref">mat4</a></code>s and take a <code><a href="#FUNCTION%203D-MATRICES%3AVEC3" class="xref">vec3</a></code> as argument.</p> <pre><code>(let ((mat (<a href="#FUNCTION%203D-MATRICES%3AMTRANSLATION" class="xref">mtranslation</a> (<a href="https://Shinmera.github.io/definitions/#FUNCTION%203D-VECTORS%3AVEC" class="xref">vec</a> 1 2 3))))
  (<a href="#FUNCTION%203D-MATRICES%3ANMSCALE" class="xref">nmscale</a> mat (<a href="https://Shinmera.github.io/definitions/#FUNCTION%203D-VECTORS%3AVEC" class="xref">vec</a> 1 2 3))
  (<a href="#FUNCTION%203D-MATRICES%3ANMROTATE" class="xref">nmrotate</a> mat <a href="https://Shinmera.github.io/definitions/#VARIABLE%203D-VECTORS%3A%2BVX%2B" class="xref">+vx+</a> 90)
  (<a href="#FUNCTION%203D-MATRICES%3AM%2A" class="xref">m*</a> mat (<a href="https://Shinmera.github.io/definitions/#FUNCTION%203D-VECTORS%3AVEC" class="xref">vec</a> 1 2 3 4)))
</code></pre> <p>Aside from translations you'll probably also want to set up a projection and a camera. You can do this, too.</p> <pre><code>(<a href="#FUNCTION%203D-MATRICES%3AMPERSPECTIVE" class="xref">mperspective</a> 75 (<a href="http://l1sp.org/cl/%2F" class="xref">/</a> w h) 0.001 10000)       ; Perspective projection
(<a href="#FUNCTION%203D-MATRICES%3AMORTHO" class="xref">mortho</a> 0 w h 0 0.001 10000)                ; Orthographic projection
(<a href="#FUNCTION%203D-MATRICES%3ANMLOOKAT" class="xref">nmlookat</a> modelview camera-pos center <a href="https://Shinmera.github.io/definitions/#VARIABLE%203D-VECTORS%3A%2BVY%2B" class="xref">+vy+</a>) ; Look at the centre
</code></pre> <p>Aside from the basic comparison operators <code><a href="#FUNCTION%203D-MATRICES%3AM%3D" class="xref">m=</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM~%3D" class="xref">m~=</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%2F%3D" class="xref">m/=</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%3C" class="xref">m&lt;</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%3E" class="xref">m&gt;</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%3C%3D" class="xref">m&lt;=</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%3E%3D" class="xref">m&gt;=</a></code>, and arithmetic operators <code><a href="#FUNCTION%203D-MATRICES%3AM%2B" class="xref">m+</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM-" class="xref">m-</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%2A" class="xref">m*</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM%2F" class="xref">m/</a></code> <code><a href="#FUNCTION%203D-MATRICES%3ANM%2B" class="xref">nm+</a></code> <code><a href="#FUNCTION%203D-MATRICES%3ANM-" class="xref">nm-</a></code> <code><a href="#FUNCTION%203D-MATRICES%3ANM%2A" class="xref">nm*</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AN%2AM" class="xref">n*m</a></code> <code><a href="#FUNCTION%203D-MATRICES%3ANM%2F" class="xref">nm/</a></code>, 3d-matrices also includes LU decomposition <code><a href="#FUNCTION%203D-MATRICES%3AMLU" class="xref">mlu</a></code>, determinant computation <code><a href="#FUNCTION%203D-MATRICES%3AMDET" class="xref">mdet</a></code>, inversion <code><a href="#FUNCTION%203D-MATRICES%3AMINV" class="xref">minv</a></code>, transposition <code><a href="#FUNCTION%203D-MATRICES%3AMTRANSPOSE" class="xref">mtranspose</a></code>, trace calculation <code><a href="#FUNCTION%203D-MATRICES%3AMTRACE" class="xref">mtrace</a></code>, minors <code><a href="#FUNCTION%203D-MATRICES%3AMMINOR" class="xref">mminor</a></code>, cofactors <code><a href="#FUNCTION%203D-MATRICES%3AMCOF" class="xref">mcof</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AMCOFACTOR" class="xref">mcofactor</a></code>, matrix adjugate <code><a href="#FUNCTION%203D-MATRICES%3AMADJ" class="xref">madj</a></code>, pivoting <code><a href="#FUNCTION%203D-MATRICES%3AMPIVOT" class="xref">mpivot</a></code>, norming <code><a href="#FUNCTION%203D-MATRICES%3AM1NORM" class="xref">m1norm</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AMINORM" class="xref">minorm</a></code> <code><a href="#FUNCTION%203D-MATRICES%3AM2NORM" class="xref">m2norm</a></code>, QR decomposition <code><a href="#FUNCTION%203D-MATRICES%3AMQR" class="xref">mqr</a></code> and eigenvalue calculation <code><a href="#FUNCTION%203D-MATRICES%3AMEIGEN" class="xref">meigen</a></code>. These should all work &quot;as you expect&quot; and I will thus refrain from showing them off in detail here. Refer to your standard linear algebra textbook to get an understanding of what they do if you don't know already.</p> <p>Finally, There's also some basic operators to do sectioning or restructuring of a matrix.</p> <pre><code>(<a href="#FUNCTION%203D-MATRICES%3AMCOL" class="xref">mcol</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 2 3 4) 0)
(<a href="#FUNCTION%203D-MATRICES%3AMROW" class="xref">mrow</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 2 3 4) 0)
(<a href="#FUNCTION%203D-MATRICES%3AMDIAG" class="xref">mdiag</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 0 0 0 2 0 0 0 3))
(<a href="#FUNCTION%203D-MATRICES%3AMTOP" class="xref">mtop</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 2 3 4 5 6 7 8 9) 2)
(<a href="#FUNCTION%203D-MATRICES%3ANMSWAP-ROW" class="xref">nmswap-row</a> (<a href="#FUNCTION%203D-MATRICES%3AMAT" class="xref">mat</a> 1 2 3 4) 0 1)
</code></pre> <p>And that's pretty much all she wrote. Note that some operations will only work on square or non-singular matrices, and all operations that take multiple operands require them to be of a compatible type. For example, you can only multiply matrices that are of agreeable rows and columns or multiply with a vector that is of the appropriate size.</p> <h2 id="also_see">Also See</h2> <ul> <li><a href="https://shinmera.github.io/3d-vectors">3d-vectors</a></li> </ul> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.0.0</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/documentation-utils/">documentation-utils</a></li><li><a class="external" href="https://Shinmera.github.io/3d-vectors/">3d-vectors</a></li></ul> </div>   <div class="row"> <label for="author">Author:</label> <a id="author" href="mailto:shinmera@tymoon.eu">Nicolas Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://shinmera.com/project/3d-matrices/blob/master/LICENSE">Artistic</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://Shinmera.github.io/3d-matrices/">https://Shinmera.github.io/3d-matrices/</a> </div>  </section>   <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE 3D-MATRICES"> <header> <h3> <a href="#PACKAGE%203D-MATRICES">3D-MATRICES</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.FLARE.MATRIX</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition structure" id="STRUCTURE 3D-MATRICES:MAT2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%203D-MATRICES%3AMAT2">MAT2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L66">Source</a>  </header> <div class="docstring"><pre>The 2x2 matrix type.</pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE 3D-MATRICES:MAT3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%203D-MATRICES%3AMAT3">MAT3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L96">Source</a>  </header> <div class="docstring"><pre>The 3x3 matrix type.</pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE 3D-MATRICES:MAT4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%203D-MATRICES%3AMAT4">MAT4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L126">Source</a>  </header> <div class="docstring"><pre>The 4x4 matrix type.</pre></div> </article> </li>  <li> <article class="definition structure" id="STRUCTURE 3D-MATRICES:MATN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">STRUCTURE</span> <h4 class="name"> <a href="#STRUCTURE%203D-MATRICES%3AMATN">MATN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L156">Source</a>  </header> <div class="docstring"><pre>The NxM matrix type.</pre></div> </article> </li>  <li> <article class="definition type-definition" id="TYPE 3D-MATRICES:MAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">TYPE-DEFINITION</span> <h4 class="name"> <a href="#TYPE%203D-MATRICES%3AMAT">MAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///usr/local/share/sbcl-source/src/compiler/deftype.lisp#12:0">Source</a>  </header> <div class="docstring"><pre>Supertype for all matrix types.

See <a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">MAT2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT3" class="xref">MAT3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT4" class="xref">MAT4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMATN" class="xref">MATN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%2A">M*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L389">Source</a>  </header> <div class="docstring"><pre>Computes a matrix multiplication.

If the other operand is a real, the matrix is multiplied with the real element-wise.
If the other operand is a matrix, they are multiplied as per matrix multiplication.
Note that the returned matrix may have different size than the input matrices as a result
of this. The two matrices must agree on the size as per matrix multiplication.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M+"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%2B">M+</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L276">Source</a>  </header> <div class="docstring"><pre>Computes the element-wise addition of the matrices or reals. Returns a fresh matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M-"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM-">M-</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L278">Source</a>  </header> <div class="docstring"><pre>Computes the element-wise subtraction of the matrices or reals. Returns a fresh matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M/"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%2F">M/</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L411">Source</a>  </header> <div class="docstring"><pre>Computes an element-wise division of the matrix from a real. Returns a fresh matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M/="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%2F%3D">M/=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L197">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise equal by /=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M1NORM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM1NORM">M1NORM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L848">Source</a>  </header> <div class="docstring"><pre>Computes the 1 norm of the matrix, namely the maximum of the sums of the columns.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M2NORM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM2NORM">M2NORM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L866">Source</a>  </header> <div class="docstring"><pre>Computes the 2 norm of the matrix, namely the square root of the sum of all squared elements.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M&lt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%3C">M&lt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L198">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise ordered by &lt;.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M&lt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%3C%3D">M&lt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L200">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise ordered by &lt;=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%3D">M=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L195">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise equal by =.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M&gt;"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%3E">M&gt;</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L199">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise ordered by &gt;.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M&gt;="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM%3E%3D">M&gt;=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L201">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise ordered by &gt;=.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MADJ"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMADJ">MADJ</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L590">Source</a>  </header> <div class="docstring"><pre>Computes the adjugate of the matrix.

For MAT2 MAT3 MAT4, inlined variants exist. For MATN, an algorithm based on the cofactors is used.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAPPLY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAPPLY">MAPPLY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">OP</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L416">Source</a>  </header> <div class="docstring"><pre>Applies the function to each element of the matrix and maps the result of it to a new matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAPPLYF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAPPLYF">MAPPLYF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">OP</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L427">Source</a>  </header> <div class="docstring"><pre>Applies the function to each element of the matrix and maps the result of it back into the matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MARR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMARR">MARR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L231">Source</a>  </header> <div class="docstring"><pre>Returns the backing array used by the matrix.

This should be a SIMPLE-VECTOR with the elements of type FLOAT-TYPE.

See <a href="#FUNCTION%203D-MATRICES%3AMARR2" class="xref">MARR2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMARR3" class="xref">MARR3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMARR4" class="xref">MARR4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMARRN" class="xref">MARRN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MARR2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMARR2">MARR2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L66">Source</a>  </header> <div class="docstring"><pre>Direct accessor to the backing array of the MAT2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MARR2)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MARR2%29">(SETF MARR2)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L66">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MARR3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMARR3">MARR3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L96">Source</a>  </header> <div class="docstring"><pre>Direct accessor to the backing array of the MAT3o.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MARR3)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MARR3%29">(SETF MARR3)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L96">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MARR4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMARR4">MARR4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L126">Source</a>  </header> <div class="docstring"><pre>Direct accessor to the backing array of the MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MARR4)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MARR4%29">(SETF MARR4)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L126">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MARRN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMARRN">MARRN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L156">Source</a>  </header> <div class="docstring"><pre>Direct accessor to the backing array of the MATN.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MARRN)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MARRN%29">(SETF MARRN)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VALUE</li>    <li class="argument">INSTANCE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L156">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT">MAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L288">Source</a>  </header> <div class="docstring"><pre>Constructs a fitting matrix for the number of elements given.

This only works for square numbers of elements, as otherwise it is not possible
to guess what dimensions the matrix should have. In the case of a non-square
number, an error is signalled.

See <a href="#FUNCTION%203D-MATRICES%3AMAT2" class="xref">MAT2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT3" class="xref">MAT3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT4" class="xref">MAT4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMATN" class="xref">MATN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT-P">MAT-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L226">Source</a>  </header> <div class="docstring"><pre>Returns T if the given object is of type MAT.

See <a href="#FUNCTION%203D-MATRICES%3AMAT2-P" class="xref">MAT2-P</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT3-P" class="xref">MAT3-P</a>
See <a href="#FUNCTION%203D-MATRICES%3AMAT4-P" class="xref">MAT4-P</a>
See <a href="#FUNCTION%203D-MATRICES%3AMATN-P" class="xref">MATN-P</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT2">MAT2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ELEMENTS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L74">Source</a>  </header> <div class="docstring"><pre>Constructs a MAT2 from the given elements.

ELEMENTS can be
  NULL     --- The matrix is initialised with zeroes.
  REAL     --- The matrix is initialised with this number.
  SEQUENCE --- The sequence is mapped into the matrix
               and the rest are initialised to 0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT2-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT2-P">MAT2-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L66">Source</a>  </header> <div class="docstring"><pre>Returns T if the given object is of type MAT2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT3">MAT3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ELEMENTS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L104">Source</a>  </header> <div class="docstring"><pre>Constructs a MAT3 from the given elements.

ELEMENTS can be
  NULL     --- The matrix is initialised with zeroes.
  REAL     --- The matrix is initialised with this number.
  SEQUENCE --- The sequence is mapped into the matrix
               and the rest are initialised to 0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT3-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT3-P">MAT3-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L96">Source</a>  </header> <div class="docstring"><pre>Returns T if the given object is of type MAT3.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT4">MAT4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ELEMENTS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L134">Source</a>  </header> <div class="docstring"><pre>Constructs a MAT4 from the given elements.

ELEMENTS can be
  NULL     --- The matrix is initialised with zeroes.
  REAL     --- The matrix is initialised with this number.
  SEQUENCE --- The sequence is mapped into the matrix
               and the rest are initialised to 0.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MAT4-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMAT4-P">MAT4-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L126">Source</a>  </header> <div class="docstring"><pre>Returns T if the given object is of type MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MATF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMATF">MATF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L322">Source</a>  </header> <div class="docstring"><pre>Maps the VALs into the matrix.

The values will be mapped in row-major order.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MATN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMATN">MATN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">R</li>    <li class="argument">C</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ELEMENTS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L180">Source</a>  </header> <div class="docstring"><pre>Constructs a MATN of the requested size from the given elements.

ELEMENTS can be
  NULL     --- The matrix is initialised with zeroes.
  REAL     --- The matrix is initialised with this number.
  SEQUENCE --- The sequence is mapped into the matrix
               and the rest are initialised to 0.

Note that if R and C are both...
  2 - A MAT2 is constructed
  3 - A MAT3 is constructed
  4 - A MAT4 is constructed
instead of a MATN.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MATN-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMATN-P">MATN-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L156">Source</a>  </header> <div class="docstring"><pre>Returns T if the given object is of type MATN.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MBLOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMBLOCK">MBLOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">Y1</li>    <li class="argument">X1</li>    <li class="argument">Y2</li>    <li class="argument">X2</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L951">Source</a>  </header> <div class="docstring"><pre>Returns the designated sub-matrix as a new matrix.
Y1, X1 are the upper left corner, inclusive
Y2, X2 are the lower right corner, exclusive</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MBOTTOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMBOTTOM">MBOTTOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L965">Source</a>  </header> <div class="docstring"><pre>Returns the lowermost N rows as a new matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOF">MCOF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L573">Source</a>  </header> <div class="docstring"><pre>Computes the cofactor matrix.

See <a href="#FUNCTION%203D-MATRICES%3AMCOFACTOR" class="xref">MCOFACTOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOFACTOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOFACTOR">MCOFACTOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L569">Source</a>  </header> <div class="docstring"><pre>Computes the cofactor at the specified index of the matrix.

This is just the element at the position multiplied by the minor.

See <a href="#FUNCTION%203D-MATRICES%3AMMINOR" class="xref">MMINOR</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOL">MCOL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L95">Source</a>  </header> <div class="docstring"><pre>Accesses the requested column as a vector of the appropriate size.

This only works for MAT2, MAT3, MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MCOL)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MCOL%29">(SETF MCOL)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VEC</li>    <li class="argument">MAT</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L102">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOLS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOLS">MCOLS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L272">Source</a>  </header> <div class="docstring"><pre>Returns the number of columns the matrix stores.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOPY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOPY">MCOPY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L349">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the matrix.

See <a href="#FUNCTION%203D-MATRICES%3AMCOPY2" class="xref">MCOPY2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCOPY3" class="xref">MCOPY3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCOPY4" class="xref">MCOPY4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCOPYN" class="xref">MCOPYN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOPY2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOPY2">MCOPY2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M2</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L84">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the MAT2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOPY3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOPY3">MCOPY3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M3</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L114">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the MAT3.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOPY4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOPY4">MCOPY4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M4</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L144">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCOPYN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCOPYN">MCOPYN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MN</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L208">Source</a>  </header> <div class="docstring"><pre>Creates a full copy of the MATN.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCREF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCREF">MCREF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L249">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given cell in the matrix.

See <a href="#FUNCTION%203D-MATRICES%3AMCREF2" class="xref">MCREF2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCREF3" class="xref">MCREF3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCREF4" class="xref">MCREF4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMCREFN" class="xref">MCREFN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCREF2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCREF2">MCREF2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given cell in the MAT2.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCREF3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCREF3">MCREF3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L102">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given cell in the MAT3.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCREF4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCREF4">MCREF4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L132">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given cell in the MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MCREFN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMCREFN">MCREFN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L174">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given cell in the MATN.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MDET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMDET">MDET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L436">Source</a>  </header> <div class="docstring"><pre>Computes the determinant of the matrix.

For MAT2 MAT3 MAT4, inlined variants exist. For MATN, an algorithm based on LU factorisation is used.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MDIAG"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMDIAG">MDIAG</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L945">Source</a>  </header> <div class="docstring"><pre>Returns the diagonal values of the matrix as a list.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MEIGEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMEIGEN">MEIGEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ITERATIONS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L909">Source</a>  </header> <div class="docstring"><pre>Computes an approximation of the eigenvalues of the matrix.

An approach based on QR factorisation is used. The number of iterations dictates
how many times the factorisation is repeated to make the result more accurate.
Usually something around 50 iterations should give somewhat accurate results, but
due to floating point limitations that may be off more significantly.

Returns the eigenvalues as a list.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MEYE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMEYE">MEYE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L67">Source</a>  </header> <div class="docstring"><pre>Constructs a square identity matrix of the requested size.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MFRUSTUM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMFRUSTUM">MFRUSTUM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LEFT</li>    <li class="argument">RIGHT</li>    <li class="argument">BOTTOM</li>    <li class="argument">TOP</li>    <li class="argument">NEAR</li>    <li class="argument">FAR</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L803">Source</a>  </header> <div class="docstring"><pre>Returns a 3D frustum projection view matrix.

See <a href="#FUNCTION%203D-MATRICES%3AMPERSPECTIVE" class="xref">MPERSPECTIVE</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MINORM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMINORM">MINORM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L857">Source</a>  </header> <div class="docstring"><pre>Computes the infinity norm of the matrix, namely the maximum of the sums of the rows.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MINV"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMINV">MINV</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L469">Source</a>  </header> <div class="docstring"><pre>Computes the inverses of the matrix.

This is only possible if the determinant is non-zero.

For MAT2 MAT3 MAT4, inlined variants exist. For MATN, an algorithm based on the adjugate is used.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MIREF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMIREF">MIREF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">I</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L240">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given index in the matrix.

Elements are stored in row-major format.

See <a href="#FUNCTION%203D-MATRICES%3AMIREF2" class="xref">MIREF2</a>
See <a href="#FUNCTION%203D-MATRICES%3AMIREF3" class="xref">MIREF3</a>
See <a href="#FUNCTION%203D-MATRICES%3AMIREF4" class="xref">MIREF4</a>
See <a href="#FUNCTION%203D-MATRICES%3AMIREFN" class="xref">MIREFN</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MIREF2"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMIREF2">MIREF2</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">I</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given index in the MAT2.

Elements are stored in row-major format.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MIREF3"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMIREF3">MIREF3</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">I</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L102">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given index in the MAT3.

Elements are stored in row-major format.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MIREF4"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMIREF4">MIREF4</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">I</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L132">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given index in the MAT4.

Elements are stored in row-major format.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MIREFN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMIREFN">MIREFN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">I</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L166">Source</a>  </header> <div class="docstring"><pre>Returns the element at the given index in the MATN.

Elements are stored in row-major format.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MLEFT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMLEFT">MLEFT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L970">Source</a>  </header> <div class="docstring"><pre>Returns the leftmost N columns as a new matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MLOOKAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMLOOKAT">MLOOKAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">EYE</li>    <li class="argument">TARGET</li>    <li class="argument">UP</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L793">Source</a>  </header> <div class="docstring"><pre>Returns a view translation matrix that should &quot;look at&quot; TARGET from EYE where UP is the up vector.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MLU"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMLU">MLU</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PIVOT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L680">Source</a>  </header> <div class="docstring"><pre>Computes an LU factorisation of the matrix.

An approach based on Crout is used with on-the-fly pivotisation if requested.

Returns the combined LU matrix, the permutation matrix, and the number of permutations that were done.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MMINOR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMMINOR">MMINOR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">Y</li>    <li class="argument">X</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L549">Source</a>  </header> <div class="docstring"><pre>Computes the minor at the specified index of the matrix.

This basically calculates the determinant of the matrix with the row and
column of the specified index excluded.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MORTHO"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMORTHO">MORTHO</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">LEFT</li>    <li class="argument">RIGHT</li>    <li class="argument">BOTTOM</li>    <li class="argument">TOP</li>    <li class="argument">NEAR</li>    <li class="argument">FAR</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L820">Source</a>  </header> <div class="docstring"><pre>Returns a 3D orthographic projection view matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MPERSPECTIVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMPERSPECTIVE">MPERSPECTIVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FOVY</li>    <li class="argument">ASPECT</li>    <li class="argument">NEAR</li>    <li class="argument">FAR</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L812">Source</a>  </header> <div class="docstring"><pre>Returns a 3D perspective projection view matrix.

FOVY       -- The field of view (how &quot;zoomy&quot; it is)
ASPECT     -- The aspect ratio of the screen
NEAR / FAR -- The Z near and far clipping planes

See <a href="#FUNCTION%203D-MATRICES%3AMFRUSTUM" class="xref">MFRUSTUM</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MPIVOT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMPIVOT">MPIVOT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L652">Source</a>  </header> <div class="docstring"><pre>Attempts to do a partial pivotisation.

Returns the pivotised matrix, the permutation matrix, and the number of permutations that were done.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MQR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMQR">MQR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L873">Source</a>  </header> <div class="docstring"><pre>Computes the QR factorisation of the matrix.

An approach based on givens rotations is used.

Returns the Q and R matrices, which are fresh.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MRAND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMRAND">MRAND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">R</li>    <li class="argument">C</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">MIN</li>    <li class="argument">MAX</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L83">Source</a>  </header> <div class="docstring"><pre>Constructs a matrix of the requested size where each element is randomized.

MIN and MAX return the inclusive bounds of the numbers in the matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MRIGHT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMRIGHT">MRIGHT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L975">Source</a>  </header> <div class="docstring"><pre>Returns the rightmost N columns as a new matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MROTATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMROTATION">MROTATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">V</li>    <li class="argument">ANGLE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L765">Source</a>  </header> <div class="docstring"><pre>Returns a 3D rotation matrix for the given vector as a MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MROW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMROW">MROW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L110">Source</a>  </header> <div class="docstring"><pre>Accesses the requested row as a vector of the appropriate size.

This only works for MAT2, MAT3, MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:(SETF MROW)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3A%28SETF%20MROW%29">(SETF MROW)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VEC</li>    <li class="argument">MAT</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L117">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MROWS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMROWS">MROWS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L281">Source</a>  </header> <div class="docstring"><pre>Returns the number of rows the matrix stores.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MSCALING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMSCALING">MSCALING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">V</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L758">Source</a>  </header> <div class="docstring"><pre>Returns a 3D scaling matrix for the given vector as a MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MTOP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMTOP">MTOP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">N</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L960">Source</a>  </header> <div class="docstring"><pre>Returns the topmost N rows as a new matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MTRACE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMTRACE">MTRACE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L539">Source</a>  </header> <div class="docstring"><pre>Computes the trace of the matrix.

For MAT2 MAT3 MAT4, inlined variants exist. For MATN, a generic sum is used.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MTRANSLATION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMTRANSLATION">MTRANSLATION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">V</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L751">Source</a>  </header> <div class="docstring"><pre>Returns a 3D translation matrix for the given vector as a MAT4.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MTRANSPOSE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMTRANSPOSE">MTRANSPOSE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L520">Source</a>  </header> <div class="docstring"><pre>Computes the transpose of the matrix.

For MAT2 MAT3 MAT4, inlined variants exist. For MATN, a generic swap is used.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:MUNIFORM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AMUNIFORM">MUNIFORM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">R</li>    <li class="argument">C</li>    <li class="argument">ELEMENT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L91">Source</a>  </header> <div class="docstring"><pre>Constructs a matrix of the requested size where each element is initialised to the requested element.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:M~="> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AM~%3D">M~=</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L196">Source</a>  </header> <div class="docstring"><pre>Compares matrices against each other or a real, returning T if they are element-wise equal by ~=.

See <a href="#FUNCTION%203D-MATRICES%3A~%3D" class="xref">~=</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:N*M"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AN%2AM">N*M</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L392">Source</a>  </header> <div class="docstring"><pre>Computes a modifying matrix multiplication, but modifying the right-hand side.

See <a href="#FUNCTION%203D-MATRICES%3ANM%2A" class="xref">NM*</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NM*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANM%2A">NM*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L391">Source</a>  </header> <div class="docstring"><pre>Computes a modifying matrix multiplication.

If the other operand is a real, the matrix is multiplied with the real element-wise.
If the other operand is a matrix, they are multiplied as per matrix multiplication.
Note that this only works for square matrix against square matrix, as otherwise a size
change would occur, which is not possible to do in a modifying variant. The two matrices
must agree on the size as per matrix multiplication.
If the other operand is a vector, the vector is modified.

See <a href="#FUNCTION%203D-MATRICES%3AN%2AM" class="xref">N*M</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NM+"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANM%2B">NM+</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L277">Source</a>  </header> <div class="docstring"><pre>Computes the element-wise addition of the matrices or reals. Returns the first matrix, modified.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NM-"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANM-">NM-</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L279">Source</a>  </header> <div class="docstring"><pre>Computes the element-wise subtraction of the matrices or reals. Returns the first matrix, modified.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NM/"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANM%2F">NM/</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">VAL</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALS</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L412">Source</a>  </header> <div class="docstring"><pre>Computes an element-wise division of the matrix from a real. Returns the modified, first matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMLOOKAT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMLOOKAT">NMLOOKAT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">EYE</li>    <li class="argument">TARGET</li>    <li class="argument">UP</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L844">Source</a>  </header> <div class="docstring"><pre>Modifies the matrix to look at TARGET from the EYE.

See MLOOKAT.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMROTATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMROTATE">NMROTATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">V</li>    <li class="argument">ANGLE</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L839">Source</a>  </header> <div class="docstring"><pre>Rotates the given matrix around the vector by angle. Returns the modified matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMSCALE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMSCALE">NMSCALE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">V</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L834">Source</a>  </header> <div class="docstring"><pre>Scales the given matrix by the vector. Returns the modified matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMSWAP-COL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMSWAP-COL">NMSWAP-COL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">K</li>    <li class="argument">L</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L933">Source</a>  </header> <div class="docstring"><pre>Modifies the matrix by swapping the Kth column with the Lth column.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMSWAP-ROW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMSWAP-ROW">NMSWAP-ROW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">K</li>    <li class="argument">L</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L920">Source</a>  </header> <div class="docstring"><pre>Modifies the matrix by swapping the Kth row with the Lth row.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:NMTRANSLATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3ANMTRANSLATE">NMTRANSLATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">V</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L829">Source</a>  </header> <div class="docstring"><pre>Translates the given matrix by the vector. Returns the modified matrix.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION 3D-MATRICES:WRITE-MATRIX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%203D-MATRICES%3AWRITE-MATRIX">WRITE-MATRIX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>    <li class="argument">STREAM</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FORMAT</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/struct.lisp#L356">Source</a>  </header> <div class="docstring"><pre>Writes the matrix in a certain format, by default a human-readable one.

FORMAT can be one of
  :NICE    - Prints it in a nice representation intended for humans.
  :WOLFRAM - Prints it in the format for Wolfram Alpha, namely {{a,b..},..}
  :ARRAY   - Prints it as a common lisp 2D array.

If the STREAM is NIL, a string of the output is returned. Otherwise the
matrix itself is returned.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION 3D-MATRICES:WITH-FAST-MATCASE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATCASE">WITH-FAST-MATCASE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">ACCESSOR</li>  <li class="argument">MAT</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L48">Source</a>  </header> <div class="docstring"><pre>Does an etypecase on MAT and an appropriate WITH-FAST-MATREF on each case.

The body should be an expression of (MAT-TYPE form*). For each
matrix type /except/ for MATN, the forms will be wrapped in an
appropriate WITH-FAST-MATREF. This is not done for MATN, as often
times a different approach to manipulating the matrix than by
direct reference is preferable for that case.

See <a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF" class="xref">WITH-FAST-MATREF</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION 3D-MATRICES:WITH-FAST-MATREF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF">WITH-FAST-MATREF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">ACCESSOR</li>  <li class="argument">MAT</li>  <li class="argument">WIDTH</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L28">Source</a>  </header> <div class="docstring"><pre>Allows efficient referencing to matrix elements.

ACCESSOR designates the name of the local macro that will allow
you to both read and set the matrix element at the given position
It will take either one or two arguments. If two, they are row and
column of the cell to dereference, and if one, it is the row-major
index of the element to dereference.

You must also designate the proper number of columns stored in the
matrix. This is done because often times when you will want to use
this macro, you'll already know the number of columns anyway.
Retrieving it again would be wasteful.

You should use this whenever you need to reference elements in a loop
or need to do more than one reference overall.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION 3D-MATRICES:WITH-FAST-MATREFS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREFS">WITH-FAST-MATREFS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">BINDINGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="https://shinmera.com/project/3d-matrices/blob/master/ops.lisp#L41">Source</a>  </header> <div class="docstring"><pre>Allows efficient referencing of multiple matrices.

Each binding must be of the form that WITH-FAST-MATREF expects.

See <a href="#MACRO-FUNCTION%203D-MATRICES%3AWITH-FAST-MATREF" class="xref">WITH-FAST-MATREF</a></pre></div> </article> </li> </ul> </article> </li> </ul> </section> </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 
